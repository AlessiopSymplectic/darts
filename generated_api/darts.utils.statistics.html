
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Utils for time series statistics &#8212; darts  documentation</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Utils for time series generation" href="darts.utils.timeseries_generation.html" />
    <link rel="prev" title="Utils for filling missing values" href="darts.utils.missing_values.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../index.html">
    
      <img src="../_static/darts-logo-trim.png" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../README.html">Home</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="darts.html">API Reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../examples.html">Examples</a>
        </li>
        
        
      </ul>


      <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/unit8co/darts" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/unit8co" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
        
        
          
            
                <li class="">
                    <a href="darts.dataprocessing.html">Data Processing</a>
                </li>
            
          
            
                <li class="">
                    <a href="darts.metrics.html">Metrics</a>
                </li>
            
          
            
                <li class="">
                    <a href="darts.models.html">Models</a>
                </li>
            
          
            
  
                <li class="active">
                    <a href="darts.utils.html">Utils</a>
                    <ul>
                    
                        <li class="">
                            <a href="darts.utils.data.html">TimeSeries Datasets</a>
                        </li>
                    
                        <li class="">
                            <a href="darts.utils.missing_values.html">Utils for filling missing values</a>
                        </li>
                    
                        <li class="active">
                            <a href="">Utils for time series statistics</a>
                        </li>
                    
                        <li class="">
                            <a href="darts.utils.timeseries_generation.html">Utils for time series generation</a>
                        </li>
                    
                        <li class="">
                            <a href="darts.utils.utils.html">Additional util functions</a>
                        </li>
                    
                    </ul>
                </li>
            
          
            
                <li class="">
                    <a href="darts.timeseries.html">Timeseries</a>
                </li>
            
          
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <span class="target" id="module-darts.utils.statistics"></span><div class="section" id="utils-for-time-series-statistics">
<h1>Utils for time series statistics<a class="headerlink" href="#utils-for-time-series-statistics" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="darts.utils.statistics.check_seasonality">
<code class="sig-prename descclassname">darts.utils.statistics.</code><code class="sig-name descname">check_seasonality</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts</span><span class="p">:</span> <span class="n"><a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">darts.timeseries.TimeSeries</a></span></em>, <em class="sig-param"><span class="n">m</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_lag</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">24</span></em>, <em class="sig-param"><span class="n">alpha</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.05</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/utils/statistics.html#check_seasonality"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#darts.utils.statistics.check_seasonality" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the TimeSeries <cite>ts</cite> is seasonal with period <cite>m</cite> or not.</p>
<p>If <cite>m</cite> is None, we work under the assumption that there is a unique seasonality period, which is inferred
from the Auto-correlation Function (ACF).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ts</strong> – The time series to check for seasonality.</p></li>
<li><p><strong>m</strong> – The seasonality period to check.</p></li>
<li><p><strong>max_lag</strong> – The maximal lag allowed in the ACF.</p></li>
<li><p><strong>alpha</strong> – The desired confidence level (default 5%).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple <cite>(season, m)</cite>, where season is a boolean indicating whether the series has seasonality or not
and <cite>m</cite> is the seasonality period.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[bool, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="darts.utils.statistics.extract_trend_and_seasonality">
<code class="sig-prename descclassname">darts.utils.statistics.</code><code class="sig-name descname">extract_trend_and_seasonality</code><span class="sig-paren">(</span><em class="sig-param">ts: darts.timeseries.TimeSeries</em>, <em class="sig-param">freq: int = None</em>, <em class="sig-param">model: Union[darts.utils.utils.SeasonalityMode</em>, <em class="sig-param">darts.utils.utils.ModelMode] = &lt;ModelMode.MULTIPLICATIVE: 'multiplicative'&gt;</em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span><a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">darts.timeseries.TimeSeries</a><span class="p">, </span><a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">darts.timeseries.TimeSeries</a><span class="p">]</span><a class="reference internal" href="../_modules/darts/utils/statistics.html#extract_trend_and_seasonality"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#darts.utils.statistics.extract_trend_and_seasonality" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts trend and seasonality from a TimeSeries instance using <cite>statsmodels.seasonal_decompose</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ts</strong> – The series to decompose</p></li>
<li><p><strong>freq</strong> – The seasonality period to use.</p></li>
<li><p><strong>model</strong> – The type of decomposition to use.
Must be <cite>from darts import ModelMode, SeasonalityMode</cite> Enum member.
Either MULTIPLICATIVE or ADDITIVE.
Defaults ModelMode.MULTIPLICATIVE.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A tuple of (trend, seasonal) time series.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="darts.utils.statistics.plot_acf">
<code class="sig-prename descclassname">darts.utils.statistics.</code><code class="sig-name descname">plot_acf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts</span><span class="p">:</span> <span class="n"><a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">darts.timeseries.TimeSeries</a></span></em>, <em class="sig-param"><span class="n">m</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_lag</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">24</span></em>, <em class="sig-param"><span class="n">alpha</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">fig_size</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>int<span class="p">, </span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">10, 5</span></em>, <em class="sig-param"><span class="n">axis</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>matplotlib.pyplot.axis<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/darts/utils/statistics.html#plot_acf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#darts.utils.statistics.plot_acf" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the ACF of <cite>ts</cite>, highlighting it at lag <cite>m</cite>, with corresponding significance interval.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ts</strong> – The TimeSeries whose ACF should be plotted.</p></li>
<li><p><strong>m</strong> – Optionally, a time lag to highlight on the plot.</p></li>
<li><p><strong>max_lag</strong> – The maximal lag order to consider.</p></li>
<li><p><strong>alpha</strong> – The confidence interval to display.</p></li>
<li><p><strong>fig_size</strong> – The size of the figure to be displayed.</p></li>
<li><p><strong>axis</strong> – Optionally, an axis object to plot the ACF on.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="darts.utils.statistics.plot_residuals_analysis">
<code class="sig-prename descclassname">darts.utils.statistics.</code><code class="sig-name descname">plot_residuals_analysis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">residuals</span><span class="p">:</span> <span class="n"><a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">darts.timeseries.TimeSeries</a></span></em>, <em class="sig-param"><span class="n">num_bins</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">20</span></em>, <em class="sig-param"><span class="n">fill_nan</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/darts/utils/statistics.html#plot_residuals_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#darts.utils.statistics.plot_residuals_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots data relevant to residuals.</p>
<p>This function takes a univariate TimeSeries instance of residuals and plots their values,
their distribution and their ACF.
Please note that if the residual TimeSeries instance contains NaN values, the plots
might be displayed incorrectly. If <cite>fill_nan</cite> is set to True, the missing values will
be interpolated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>residuals</strong> – Univariate TimeSeries instance representing residuals.</p></li>
<li><p><strong>num_bins</strong> – Optionally, an integer value determining the number of bins in the histogram.</p></li>
<li><p><strong>fill_nan</strong> – A boolean value indicating whether NaN values should be filled in the residuals.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="darts.utils.statistics.remove_from_series">
<code class="sig-prename descclassname">darts.utils.statistics.</code><code class="sig-name descname">remove_from_series</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ts</span><span class="p">:</span> <span class="n"><a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">darts.timeseries.TimeSeries</a></span></em>, <em class="sig-param"><span class="n">other</span><span class="p">:</span> <span class="n"><a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">darts.timeseries.TimeSeries</a></span></em>, <em class="sig-param"><span class="n">model</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference internal" href="darts.utils.utils.html#darts.utils.utils.SeasonalityMode" title="darts.utils.utils.SeasonalityMode">darts.utils.utils.SeasonalityMode</a><span class="p">, </span><a class="reference internal" href="darts.utils.utils.html#darts.utils.utils.ModelMode" title="darts.utils.utils.ModelMode">darts.utils.utils.ModelMode</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">darts.timeseries.TimeSeries</a><a class="reference internal" href="../_modules/darts/utils/statistics.html#remove_from_series"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#darts.utils.statistics.remove_from_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the TimeSeries <cite>other</cite> from the TimeSeries <cite>ts</cite> as specified by <cite>model</cite>.
Use e.g. to remove an additive or multiplicative trend from a series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ts</strong> – The TimeSeries to be modified.</p></li>
<li><p><strong>other</strong> – The TimeSeries to remove.</p></li>
<li><p><strong>model</strong> – The type of model considered.
Must be <cite>from darts import ModelMode, SeasonalityMode</cite> Enums member.
Either MULTIPLICATIVE or ADDITIVE.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A TimeSeries defined by removing <cite>other</cite> from <cite>ts</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">TimeSeries</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="darts.utils.statistics.remove_seasonality">
<code class="sig-prename descclassname">darts.utils.statistics.</code><code class="sig-name descname">remove_seasonality</code><span class="sig-paren">(</span><em class="sig-param">ts: darts.timeseries.TimeSeries</em>, <em class="sig-param">freq: int = None</em>, <em class="sig-param">model: darts.utils.utils.SeasonalityMode = &lt;SeasonalityMode.MULTIPLICATIVE: 'multiplicative'&gt;</em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">darts.timeseries.TimeSeries</a><a class="reference internal" href="../_modules/darts/utils/statistics.html#remove_seasonality"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#darts.utils.statistics.remove_seasonality" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusts the TimeSeries <cite>ts</cite> for a seasonality of order <cite>frequency</cite> using the <cite>model</cite> decomposition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ts</strong> – The TimeSeries to adjust.</p></li>
<li><p><strong>freq</strong> – The seasonality period to use.</p></li>
<li><p><strong>model</strong> – The type of decomposition to use.
Must be a <cite>from darts import SeasonalityMode</cite> Enum member.
Either SeasonalityMode.MULTIPLICATIVE or SeasonalityMode.ADDITIVE.
Defaults SeasonalityMode.MULTIPLICATIVE.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new TimeSeries instance that corresponds to the seasonality-adjusted ‘ts’.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">TimeSeries</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="darts.utils.statistics.remove_trend">
<code class="sig-prename descclassname">darts.utils.statistics.</code><code class="sig-name descname">remove_trend</code><span class="sig-paren">(</span><em class="sig-param">ts: darts.timeseries.TimeSeries</em>, <em class="sig-param">model: darts.utils.utils.ModelMode = &lt;ModelMode.MULTIPLICATIVE: 'multiplicative'&gt;</em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">darts.timeseries.TimeSeries</a><a class="reference internal" href="../_modules/darts/utils/statistics.html#remove_trend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#darts.utils.statistics.remove_trend" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusts the TimeSeries <cite>ts</cite> for a trend using the <cite>model</cite> decomposition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ts</strong> – The TimeSeries to adjust.</p></li>
<li><p><strong>model</strong> – The type of decomposition to use.
Must be <cite>from darts import ModelMode</cite> Enum member.
Either ModelMode.MULTIPLICATIVE or ModelMode.ADDITIVE.
Defaults to modelMode.MULTIPLICATIVE.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new TimeSeries instance that corresponds to the trend-adjusted ‘ts’.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="darts.timeseries.html#darts.timeseries.TimeSeries" title="darts.timeseries.TimeSeries">TimeSeries</a></p>
</dd>
</dl>
</dd></dl>

</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="darts.utils.missing_values.html" title="previous page">Utils for filling missing values</a>
    <a class='right-next' id="next-link" href="darts.utils.timeseries_generation.html" title="next page">Utils for time series generation</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2021, Unit8 SA.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>